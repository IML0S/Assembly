## 📘 기본 정리

- PC는 CPU가 다음에 실행할 명령어의 주소를 저장하는 레지스터이다.  
- Instruction Pointer(IP)는 PC와 같은 의미이다.  
- Location Counter(LC)는 어셈블러가 코드나 데이터를 메모리에 배치할 위치를 추적하는 변수이다.

---

## 💾 명령어와 RAM, CPU

- RAM은 전원을 끄면 데이터가 사라지는 휘발성 메모리이다.  
- 컴퓨터 실행 시 보조기억장치에서 데이터를 RAM으로 불러온다.  
- RAM에 올라온 명령어는 CPU의 레지스터로 이동하여 실행된다.  
- 작성한 C 코드는 주기억장치에 저장되며, 저장 후 컴파일하면 파일 형태로 보조기억장치에 저장된다.  
- 실행 시 다시 RAM으로 올라오고, CPU가 레지스터에서 실행한 뒤 결과를 메모리에 저장한다.

---

## ⚙️ CPU 구성

- ALU는 산술 및 논리 연산을 수행하는 장치이다. 덧셈기만 존재하며, 나머지 연산은 덧셈과 보수를 반복하여 처리한다.  
- CU는 명령어를 해석하고 ALU, 메모리, 레지스터에 제어 신호를 보내는 장치이다.  
- Clock은 컴퓨터의 동작을 동기화하고 속도를 조절하는 장치이다. 단위는 GHz이며, 1GHz는 1초에 10억 번의 클럭 펄스를 의미한다.

---

## 🔄 명령어 인출과 실행

- PC가 가리키는 주소를 MAR이 받아 RAM으로 전달한다.  
- 동시에 PC는 +1 되어 다음 명령어를 준비한다.  
- RAM에서 데이터를 받아 MBR이나 IR에 저장한다.  
- 연산자(opcode)를 해석하고 피연산자(operand)를 레지스터나 메모리에서 가져온다.  
- ALU나 다른 실행 유닛이 명령을 실행한다.  
- 상태 플래그를 갱신하면 CPU의 기본 작업은 완료된다.  
- 필요 시 결과를 메모리에 저장하거나 추가 데이터를 불러오며, 연산 결과는 레지스터 또는 메모리에 저장한다.

---

## 🧮 부동소수점 유닛

- 정수 표현: sign + digit  
- 실수 표현: sign + exponent + mantissa  
- 실수 연산은 복잡하므로 FPU가 따로 처리한다.

---

## 📥 메모리 읽기 동작

- 주소 레지스터에 주소값이 입력되고, CU에서 읽기 신호를 보내면 해당 주소의 데이터가 데이터 레지스터로 이동한다.  
- RD 핀에 신호가 전달되어 읽기 동작이 수행된다.

---

## 🖥️ x86 프로세서의 모드

- Protected Mode는 프로그램 간 메모리 침범을 방지하고 멀티태스킹을 지원하는 모드
- Real-address Mode는 20비트 주소로 최대 1MB 메모리만 접근 가능하며, 보호 기능이 없는 모드
- Virtual-8086 Mode는 보호 모드의 하위 기능으로, DOS 기반 16비트 프로그램을 실행할 수 있도록 지원하는 모드  
- System Management Mode는 하드웨어 제어, 절전 기능, 보안 기능 등을 수행하는 모드

---

## 🧾 외워야 할 레지스터

### ✅ 범용 레지스터

- EAX : 누산기 레지스터  
- EBX : 베이스 레지스터  
- ECX : 카운터 레지스터  
- EDX : 데이터 레지스터  
  - AX : EAX의 하위 16비트  
  - AH : AX의 상위 8비트  
  - AL : AX의 하위 8비트  
- EBP : 베이스 포인터 레지스터  
- ESP : 스택 포인터 레지스터  
- ESI : 소스 인덱스 레지스터  
- EDI : 목적지 인덱스 레지스터

※ E는 32비트, E를 떼면 16비트, R을 붙이면 64비트

### 🎯 특수 목적 레지스터

- EFLAGS : 상태 플래그를 저장하는 레지스터  
- EIP : 명령어 포인터 레지스터  
- CS : 코드 세그먼트 레지스터  
- SS : 스택 세그먼트 레지스터  
- DS : 데이터 세그먼트 레지스터  
- ES : 추가 세그먼트 레지스터  
- FS : 확장 세그먼트 레지스터
- GS : 또 다른 확장 세그먼트 레지스터
