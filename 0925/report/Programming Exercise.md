# Programming Exercise 문제 풀이 (1~6번)

---

## 문제 1 Integer Expression Calculation

**문제:** Using the AddTwo program from Section 3.2 as a reference, write a program that calculates the following expression, using registers: A = (A + B) − (C + D). Assign integer values to the EAX, EBX, ECX, and EDX registers.

AddTwo.asm을 참고하여 A=(A+B)-(C+D) 계산 코드를 작성한다.

```asm
.386
.MODEL FLAT, STDCALL
.STACK 4096
include Irvine32.inc

.code
main PROC
    mov eax, 20
    mov ebx, 10
    mov ecx, 5
    mov edx, 2

    add eax, ebx
    add ecx, edx
    sub eax, ecx
    call DumpRegs
    exit
main ENDP
END main
```

출력 예시:

```
EAX=00000017  EBX=0000000A  ECX=00000007  EDX=00000002
```

---

## 문제 2 Symbolic Integer Constants

**문제:** Write a program that defines symbolic constants for all seven days of the week. Create an array variable that uses the symbols as initializers.

모든 요일을 기호 상수로 정의하고 배열 변수의 초기값으로 사용한다.

```asm
.data
Monday EQU 1
Tuesday EQU 2
Wednesday EQU 3
Thursday EQU 4
Friday EQU 5
Saturday EQU 6
Sunday EQU 7

WeekDays DWORD Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday
WeekSize = LENGTHOF WeekDays

.code
main PROC
    mov ecx, WeekSize
    mov ebx, OFFSET WeekDays

print_loop:
    mov eax, [ebx]
    call WriteDec
    mov al, ' '
    call WriteChar
    add ebx, TYPE DWORD
    loop print_loop

    exit
main ENDP
END main
```

출력 예시:

```
1 2 3 4 5 6 7
```

---

## 문제 3 Data Definitions

**문제:** Write a program that contains a definition of each data type listed in Table 3-2 in Section 3.4. Initialize each variable to a value that is consistent with its data type.

표 3-2를 보고 자료형별 변수를 정의하고 초기값을 설정한다.

```asm
.data
A BYTE 255
B SBYTE -128
C WORD 65535
D SWORD -32768
E DWORD 4294967295
F SDWORD -2147483648
G FWORD 0FFFFFFFFh
H QWORD 0FFFFFFFFFFFFFFFFh
I TBYTE 800000000000001234h
J REAL4 -1.2
K REAL8 3.2E-260
L REAL10 4.6E-4096

.code
main PROC
    exit
main ENDP
END main
```

---

## 문제 4 Symbolic Text Constants

**문제:** Write a program that defines symbolic names for several string literals (characters between quotes). Use each symbolic name in a variable definition.

문자열 상수에 심볼릭 이름을 정의하고 변수 초기값으로 사용한다.

```asm
.data
greeting TEXTEQU <"Hello, World!">
question TEXTEQU <"How are you? ">
farewell TEXTEQU <"Goodbye!">

message1 BYTE greeting, 0
message2 BYTE question, 0
message3 BYTE farewell, 0

.code
main PROC
    mov edx, OFFSET message1
    call WriteString
    call Crlf

    mov edx, OFFSET message2
    call WriteString
    call Crlf

    mov edx, OFFSET message3
    call WriteString
    call Crlf
    exit
main ENDP
END main
```

출력 예시:

```
Hello, World!
How are you?
Goodbye!
```

---

## 문제 5 Listing File for AddTwoSum

**문제:** Generate a listing file for the AddTwoSum program and write a description of the machine code bytes generated for each instruction. You might have to guess at some of the meanings of the byte values.

AddTwoSum 리스팅 파일 중 일부 예시. 기계어 바이트 의미를 간단히 주석으로 표시.

```asm
00000000  B8 00000005    mov eax, 5     ; B8=mov eax, 00000005=값 리틀 엔디언
00000005  83 C0 06       add eax, 6     ; 83=add, C0=eax, 06=더할 값
00000008  A3 00000000 R  mov Sum, eax   ; A3=mov [주소], eax
```

---

## 문제 6 AddVariables Program

**문제:** Modify the AddVariables program so it uses 64-bit variables. Describe the syntax errors generated by the assembler and what steps you took to resolve the errors.

32비트 환경에서 `QWORD`와 `RAX` 사용 시 발생하는 오류를 해결하였다. x64 환경에서 실행 가능하도록 조정.

```asm
.data
firstval  qword 20002000h
secondval qword 11111111h
thirdval  qword 22222222h
sum       qword 0

.code
main PROC
    mov rax, firstval
    add rax, secondval
    add rax, thirdval
    mov sum, rax

    mov ecx, 0
    call ExitProcess
main ENDP
END main
```
